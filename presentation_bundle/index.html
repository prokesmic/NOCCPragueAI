<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Agentic Revolution | Cinematic Deck</title>
  <style>
    :root {
      --ink-1: #071325;
      --ink-2: #1d2f45;
      --muted: #33485f;
      --white: #f8fbff;
      --nov-orange: #eb6a00;
      --nov-blue: #0b66b2;
      --nov-orange-rgb: 235, 106, 0;
      --nov-blue-rgb: 11, 102, 178;
      --glass: rgba(247, 250, 255, 0.34);
      --glass-stroke: rgba(255, 255, 255, 0.46);
      --accent: #00b5ff;
      --accent-2: #5b7cfa;
      --shadow: 0 24px 64px rgba(6, 21, 40, 0.2);
      --radius-lg: 24px;
      --radius-md: 14px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: radial-gradient(circle at 12% 10%, #ffffff 0%, #eff5ff 48%, #e4edfb 100%);
      color: var(--ink-1);
      font-family: "Avenir Next", "Segoe UI", "Helvetica Neue", Arial, sans-serif;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      width: 54vw;
      height: 54vw;
      border-radius: 50%;
      pointer-events: none;
      z-index: 0;
      filter: blur(42px);
      opacity: 0.46;
      mix-blend-mode: multiply;
    }

    body::before {
      background: radial-gradient(circle, rgba(120, 197, 255, 0.42) 0%, rgba(120, 197, 255, 0) 70%);
      top: -30vh;
      right: -16vw;
    }

    body::after {
      background: radial-gradient(circle, rgba(95, 109, 255, 0.24) 0%, rgba(95, 109, 255, 0) 72%);
      bottom: -36vh;
      left: -20vw;
    }

    .deck {
      position: relative;
      z-index: 1;
      width: 100vw;
      height: 100vh;
      display: grid;
      grid-template-columns: minmax(360px, 38%) 1fr;
      overflow: hidden;
    }

    .deck.intro-mode {
      grid-template-columns: 1fr;
      grid-template-rows: 1fr;
      cursor: pointer;
    }

    .deck.intro-mode .panel,
    .deck.intro-mode .controls,
    .deck.intro-mode .dots,
    .deck.intro-mode .counter,
    .deck.intro-mode .progress-track {
      display: none;
    }

    .deck.intro-mode .hero {
      grid-column: 1 / -1;
      background: #02060d;
    }

    .deck.intro-mode .hero::before,
    .deck.intro-mode .hero::after {
      opacity: 0;
    }

    .panel {
      position: relative;
      z-index: 4;
      display: flex;
      flex-direction: column;
      gap: 1.6vh;
      padding: clamp(16px, 3vw, 38px) clamp(18px, 2.2vw, 34px) clamp(16px, 2.2vw, 28px);
      background:
        linear-gradient(155deg, rgba(var(--nov-orange-rgb), 0.28) 0%, rgba(255, 163, 72, 0.18) 28%, rgba(64, 142, 214, 0.22) 62%, rgba(var(--nov-blue-rgb), 0.3) 100%),
        linear-gradient(160deg, var(--glass), rgba(255, 255, 255, 0.18));
      backdrop-filter: blur(18px) saturate(130%);
      -webkit-backdrop-filter: blur(18px) saturate(130%);
      border-right: 1px solid rgba(255, 255, 255, 0.58);
      box-shadow: var(--shadow);
      min-height: 0;
    }

    .panel::after {
      content: "";
      position: absolute;
      top: 12px;
      right: 10px;
      bottom: 12px;
      left: 10px;
      border: 1px solid var(--glass-stroke);
      border-radius: 20px;
      pointer-events: none;
    }

    .meta-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      font-size: 12px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: rgba(7, 19, 37, 0.68);
    }

    .badge {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(0, 181, 255, 0.35);
      background: rgba(255, 255, 255, 0.62);
      font-size: 11px;
      letter-spacing: 0.09em;
    }

    .headline {
      font-family: "Avenir Next Condensed", "Avenir Next", "Segoe UI", "Helvetica Neue", Arial, sans-serif;
      font-size: clamp(1.75rem, 3.4vw, 3.8rem);
      line-height: 1.02;
      letter-spacing: -0.03em;
      font-weight: 800;
      text-wrap: balance;
      max-width: 18ch;
      margin-top: 0.4vh;
      color: var(--ink-1);
    }

    .divider {
      width: min(168px, 36vw);
      height: 2px;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(0, 181, 255, 0.7) 0%, rgba(91, 124, 250, 0) 100%);
      margin-top: 0.6vh;
    }

    .facts {
      list-style: none;
      display: grid;
      gap: clamp(8px, 1.3vh, 12px);
      max-width: 52ch;
      margin-top: 0.8vh;
      min-height: 0;
      overflow: auto;
      padding-right: 4px;
    }

    .facts li {
      font-size: clamp(13.4px, 1.08vw, 17px);
      line-height: 1.58;
      color: var(--muted);
      padding-left: 1.1em;
      position: relative;
      opacity: 0;
      transform: translateX(-12px);
    }

    .facts li::before {
      content: "";
      position: absolute;
      left: 0;
      top: 0.72em;
      width: 0.42em;
      height: 0.42em;
      border-radius: 50%;
      background: linear-gradient(145deg, var(--accent) 0%, var(--accent-2) 100%);
      box-shadow: 0 0 0 4px rgba(0, 181, 255, 0.14);
    }

    .fact-finder {
      margin-top: auto;
      display: none;
      gap: 8px;
      flex-direction: column;
    }

    .fact-finder p {
      font-size: 12px;
      color: rgba(7, 19, 37, 0.68);
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .fact-input {
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.64);
      border-radius: 12px;
      padding: 11px 12px;
      font: inherit;
      color: var(--ink-1);
      background: rgba(255, 255, 255, 0.82);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .fact-input::placeholder {
      color: rgba(7, 19, 37, 0.48);
    }

    .fact-results {
      display: none;
      list-style: none;
      max-height: 20vh;
      overflow: auto;
      gap: 6px;
    }

    .fact-results li {
      font-size: 12.5px;
      line-height: 1.44;
      border-left: 2px solid rgba(0, 181, 255, 0.5);
      background: rgba(255, 255, 255, 0.62);
      border-radius: 9px;
      padding: 7px 9px;
      color: var(--ink-2);
    }

    .fact-results strong {
      color: #0d4c7e;
    }

    .hero {
      position: relative;
      overflow: hidden;
      isolation: isolate;
      background:
        radial-gradient(circle at 84% 18%, rgba(255, 255, 255, 0.64) 0%, rgba(255, 255, 255, 0) 40%),
        linear-gradient(145deg, #dbeafe 0%, #d2e7ff 44%, #d8f2ff 100%);
    }

    .hero::before {
      content: "";
      position: absolute;
      inset: -12%;
      z-index: 0;
      background:
        radial-gradient(circle at 78% 22%, rgba(91, 124, 250, 0.2) 0%, rgba(91, 124, 250, 0) 54%),
        radial-gradient(circle at 38% 76%, rgba(0, 181, 255, 0.16) 0%, rgba(0, 181, 255, 0) 52%),
        radial-gradient(circle at 62% 52%, rgba(255, 255, 255, 0.38) 0%, rgba(255, 255, 255, 0) 66%);
      filter: blur(28px);
      opacity: 0.74;
      pointer-events: none;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      z-index: 3;
      pointer-events: none;
      background:
        linear-gradient(180deg, rgba(225, 238, 255, 0.46) 0%, rgba(225, 238, 255, 0.18) 26%, rgba(225, 238, 255, 0) 52%),
        radial-gradient(circle at 52% 48%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 100%),
        linear-gradient(120deg, rgba(255, 255, 255, 0.14) 0%, rgba(255, 255, 255, 0.02) 40%, rgba(255, 255, 255, 0.14) 100%);
    }

    .layer {
      position: absolute;
      inset: 0;
      z-index: 2;
      transform: translate3d(0, 0, 0) scale(1);
      opacity: 0;
      overflow: hidden;
      will-change: transform, opacity;
    }

    .layer::before,
    .layer::after {
      content: "";
      position: absolute;
      inset: 0;
      background-image: var(--slide-image);
      background-position: center;
      background-repeat: no-repeat;
      pointer-events: none;
    }

    .layer::before {
      inset: -8%;
      background-size: cover;
      filter: blur(34px) saturate(1.03) brightness(1.03);
      transform: scale(1.08);
      opacity: 0.42;
    }

    .layer::after {
      background-size: contain;
      filter: drop-shadow(0 18px 38px rgba(7, 19, 37, 0.2));
      opacity: 0.97;
    }

    .layer.active {
      opacity: 0.93;
    }

    .layer.fallback::before,
    .layer.fallback::after {
      background-image:
        radial-gradient(circle at 70% 20%, rgba(255, 255, 255, 0.76) 0%, rgba(255, 255, 255, 0) 34%),
        linear-gradient(130deg, #dbeafe 0%, #bfdbfe 34%, #93c5fd 100%);
      background-size: cover;
      filter: none;
      transform: none;
      opacity: 1;
    }

    .hero-video {
      position: absolute;
      inset: 0;
      z-index: 2;
      opacity: 0;
      pointer-events: none;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      will-change: transform, opacity;
    }

    .deck.intro-mode .hero-video {
      pointer-events: auto;
    }

    .hero-video::before {
      content: "";
      position: absolute;
      inset: -10%;
      background:
        radial-gradient(circle at 70% 28%, rgba(0, 181, 255, 0.2) 0%, rgba(0, 181, 255, 0) 58%),
        radial-gradient(circle at 26% 72%, rgba(91, 124, 250, 0.18) 0%, rgba(91, 124, 250, 0) 56%);
      filter: blur(36px);
      opacity: 0.7;
      pointer-events: none;
    }

    .hero-video video {
      position: relative;
      z-index: 1;
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 18px 36px rgba(7, 19, 37, 0.22));
    }

    .controls {
      position: absolute;
      top: clamp(12px, 2.2vw, 24px);
      right: clamp(12px, 2.2vw, 24px);
      display: flex;
      gap: 8px;
      z-index: 8;
    }

    .btn {
      width: 40px;
      height: 40px;
      border-radius: 11px;
      border: 1px solid rgba(255, 255, 255, 0.66);
      background: rgba(255, 255, 255, 0.72);
      color: var(--ink-1);
      font-size: 17px;
      cursor: pointer;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      box-shadow: 0 8px 24px rgba(8, 22, 40, 0.12);
      transition: transform 0.2s ease, background 0.2s ease;
    }

    .btn:hover,
    .btn:focus-visible {
      transform: translateY(-1px);
      background: rgba(255, 255, 255, 0.88);
      outline: none;
    }

    .dots {
      position: absolute;
      left: 50%;
      bottom: 14px;
      transform: translateX(-50%);
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 6px;
      width: min(56vw, 520px);
      z-index: 9;
    }

    .dot {
      width: 14px;
      height: 6px;
      border-radius: 999px;
      border: none;
      background: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: all 0.24s ease;
    }

    .dot.active {
      width: 28px;
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
      box-shadow: 0 0 12px rgba(0, 181, 255, 0.5);
    }

    .counter {
      position: absolute;
      left: 12px;
      bottom: 12px;
      padding: 7px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.64);
      background: rgba(255, 255, 255, 0.62);
      color: rgba(7, 19, 37, 0.78);
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      z-index: 9;
    }

    .progress-track {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 5px;
      background: rgba(148, 163, 184, 0.26);
      z-index: 11;
    }

    .progress {
      height: 100%;
      width: 6%;
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
      box-shadow: 0 0 14px rgba(0, 181, 255, 0.44);
      transform-origin: left;
    }

    @media (max-width: 1080px) {
      .deck {
        grid-template-columns: 1fr;
        grid-template-rows: minmax(52vh, 56vh) 1fr;
      }

      .panel {
        border-right: 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.58);
      }

      .headline {
        max-width: 22ch;
      }

      .layer::before {
        filter: blur(18px) saturate(1.05) brightness(1.02);
      }

      .layer::after {
        filter: drop-shadow(0 14px 28px rgba(7, 19, 37, 0.16));
      }
    }

    @media (max-width: 680px) {
      .headline {
        font-size: clamp(1.5rem, 7.6vw, 2.2rem);
      }

      .facts li {
        font-size: 13px;
      }

      .controls {
        top: auto;
        bottom: 12px;
      }

      .dots {
        width: min(80vw, 360px);
        bottom: 60px;
      }

      .counter {
        bottom: 58px;
      }

      .fact-results {
        max-height: 16vh;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      *,
      *::before,
      *::after {
        animation: none !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body>
  <main class="deck" id="deck">
    <section class="panel" aria-live="polite">
      <div class="meta-row">
        <span id="meta">Slide 0</span>
        <span class="badge">Our AI journey starts NOW</span>
      </div>
      <h1 class="headline" id="headline"></h1>
      <div class="divider"></div>
      <ul class="facts" id="facts"></ul>
      <section class="fact-finder" id="factFinder">
        <p>Dynamic Fact Finder</p>
        <input id="factInput" class="fact-input" type="search" placeholder="Search all slide facts: research, strategy, productivity..." autocomplete="off" />
        <ul id="factResults" class="fact-results"></ul>
      </section>
    </section>

    <section class="hero" aria-hidden="true">
      <div class="layer active" id="heroA"></div>
      <div class="layer" id="heroB"></div>
      <div class="hero-video" id="heroVideoWrap">
        <video id="heroVideo" preload="auto" autoplay muted loop playsinline>
          <source src="https://grhcxws5ggt34hmf.public.blob.vercel-storage.com/nocc/slide0-h264-720.m4v" type='video/mp4; codecs="avc1.64001F, mp4a.40.2"' />
          <source src="https://grhcxws5ggt34hmf.public.blob.vercel-storage.com/nocc/slide0-hq.mp4" type='video/mp4; codecs="hvc1, mp4a.40.2"' />
          <source src="slide0.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' />
        </video>
      </div>
    </section>

    <nav class="controls" aria-label="Slide navigation">
      <button type="button" class="btn" id="prevBtn" aria-label="Previous slide">&#8592;</button>
      <button type="button" class="btn" id="nextBtn" aria-label="Next slide">&#8594;</button>
    </nav>

    <div class="counter" id="counter">00 / 18</div>
    <div class="dots" id="dots" aria-label="Go to slide"></div>

    <div class="progress-track" aria-hidden="true">
      <div class="progress" id="progress"></div>
    </div>
  </main>

  <script>
    const slides = [
      {
        type: "video",
        headline: "NOCC Prague AI v2",
        facts: [
          "Intro video: press right arrow, space, or swipe to enter Slide 1.",
          "This video is now Slide 0 and plays in the right pane.",
          "Navigation and transitions stay unified with the rest of the deck."
        ]
      },
      {
        headline: "February 2020: The Eerie Silence Before the World Shifted",
        facts: [
          "We are standing at the exact same precipice today as just before the pandemic changed everything overnight.",
          "This new shift starts in the engine room of the digital world.",
          "Silence often arrives right before technological acceleration.",
          "AI digital infrastructure expansion is already underway.",
          "Reference in deck: Matt Shumer, 'Something Big Is Happening'."
        ]
      },
      {
        headline: "The Engine Room Has Changed: Software Tools Now Build Themselves",
        facts: [
          "The traditional software engineer profession is disappearing.",
          "Inside frontier LLM teams, humans increasingly orchestrate instead of writing manual syntax.",
          "We are witnessing the end of hand-coded repetitive implementation.",
          "Self-evolving tools are replacing static tooling models.",
          "The new stack is self-correcting, self-deploying, and self-optimizing."
        ]
      },
      {
        headline: "The 'Chat Machine' Era Is Over. The 'Agentic' Era Has Begun.",
        facts: [
          "2022-2024 was the helpful sidekick phase of passive text generation.",
          "2025 marks the crossover from response engines to execution engines.",
          "2025+ belongs to proactive reasoning masters with autonomous action.",
          "The model no longer just talks; it performs multi-step tasks.",
          "Direct tool and file-system access changes what software can deliver."
        ]
      },
      {
        headline: "OpenClaw Proved We Have Moved Beyond Science Fiction",
        facts: [
          "A high-level goal can now trigger full execution: browse web, run scripts, deliver product.",
          "Agent frameworks can work while humans sleep.",
          "A single agent can transform intention into production-grade output.",
          "The status quo for software delivery is officially retired.",
          "Autonomous flow has moved from demo novelty to practical reality."
        ]
      },
      {
        headline: "The Dangerous Denial of Dismissing AI as 'Slop'",
        facts: [
          "Calling everything AI 'slop' is often a dangerous form of denial.",
          "Low-quality results usually come from no context and zero chaining.",
          "Real performance requires taste, judgment, and reasoning.",
          "Hallucination is frequently a usage flaw, not only a model flaw.",
          "Stop looking at the floor instead of the ceiling."
        ]
      },
      {
        headline: "The Change Doesn't Change Back",
        facts: [
          "When human productivity baseline relocates, there is no return to old normal.",
          "Electricity permanently changed industrial work.",
          "The automobile permanently changed mobility and logistics.",
          "Computing permanently changed how we think and build.",
          "Every revolution was met with fear, yet each expanded prosperity."
        ]
      },
      {
        headline: "We Are Entering the Golden Age of Builders",
        facts: [
          "The goal is not replacement.",
          "The goal is removing robotic and repetitive drudgery.",
          "Builders can now become 10x productive with AI leverage.",
          "Automation clears paperwork and legacy-system drag.",
          "This era rewards creators who combine judgment with execution speed."
        ]
      },
      {
        headline: "'HOT' Skills: Human-Oriented Technology",
        facts: [
          "Technology is no longer the main hurdle.",
          "Empathy becomes a core multiplier skill.",
          "Strategy becomes a core multiplier skill.",
          "Complex problem solving becomes a core multiplier skill.",
          "Your ideas are now the primary limit."
        ]
      },
      {
        headline: "The New Hackathon Winner Is the Business Strategist",
        facts: [
          "Syntax knowledge alone is no longer enough.",
          "Business strategy and vision now define disproportionate outcomes.",
          "AI is not just an IT technology.",
          "There are effectively no barriers to start learning today.",
          "AI capability now belongs to everyone willing to practice."
        ]
      },
      {
        headline: "Real Value Comes From the 'Chained' Workflow",
        facts: [
          "Compounding value appears when AI steps are linked.",
          "Single prompts are useful, but chained systems are transformative.",
          "Do not just ask one question.",
          "Build a fleet of role-specific agents.",
          "Example sequence in the deck: breakdown, expert panel, writer, polish."
        ]
      },
      {
        headline: "Stop Looking at Spreadsheets. Start Talking to Your Data.",
        facts: [
          "Raw data becomes more useful when converted into dialogue.",
          "Input: activity and performance records.",
          "Process: feed structured context into the model.",
          "Output: actionable coaching conversation, not static charts.",
          "Data fluency improves when questions are natural-language first."
        ]
      },
      {
        headline: "'Googling' Is Obsolete. Run Deep Research.",
        facts: [
          "Deep research can perform the work of many consultants.",
          "Complex topic synthesis now fits into under an hour.",
          "Manual search is slow and fragmented.",
          "Agentic research is fast and comprehensive.",
          "The competitive edge shifts to question quality and synthesis speed."
        ]
      },
      {
        headline: "NotebookLM: The Hallucination Killer",
        facts: [
          "Grounding keeps AI responses loyal to your source data.",
          "Research can be transformed into dialogue, video scripts, and infographics.",
          "Source documents become living interfaces for decisions.",
          "Grounded workflows reduce misinformation risk in high-stakes work.",
          "The quality ceiling rises when retrieval is anchored in your corpus."
        ]
      },
      {
        headline: "The Strategy for Prague NOCC: The 'AI-First' Mindset",
        facts: [
          "The pace of this revolution is relentless.",
          "There is no better time to start than right now.",
          "Experiment quickly.",
          "Learn and iterate continuously.",
          "Share what works and normalize daily AI-first behavior."
        ]
      },
      {
        headline: "You Don't Need a Course. You Just Need Curiosity.",
        facts: [
          "Ask the tool directly: teach me how to use you.",
          "Use AI in private life to learn practical patterns faster.",
          "No formal training is required to start.",
          "Learning-by-doing beats passive content consumption.",
          "Curiosity is the primary unlock."
        ]
      },
      {
        headline: "Our Commitment vs. Your Accountability",
        facts: [
          "Leadership commitment is necessary but not sufficient.",
          "NOCC provides resources and communities.",
          "NOCC provides upskilling and immersion sessions.",
          "Individuals must run personal experiments.",
          "Daily usage is the non-negotiable growth loop."
        ]
      },
      {
        headline: "The Single Most Important Skill of Our Generation",
        facts: [
          "People who build this skill now will stay labor-market resilient.",
          "Future value comes from architecting with AI, not consuming AI passively.",
          "Early capability compounds over time.",
          "You are expected to become a high-value architect of the future.",
          "This is a strategic career moat, not a trend."
        ]
      },
      {
        headline: "Stop Just Using Tools. Start Building the Future.",
        facts: [
          "The time is now.",
          "Hop in and build the skill.",
          "Move from tool user to system builder.",
          "Turn momentum into repeatable capability.",
          "Prague NOCC: start today, compound tomorrow."
        ]
      }
    ];

    function getImageSrc(index) {
      return index === 0 ? null : `slide${index}.png`;
    }

    function isVideoSlide(index) {
      return slides[index]?.type === "video";
    }

    const imageSources = slides
      .map((_, i) => getImageSrc(i))
      .filter(Boolean);
    const allFacts = slides.flatMap((slide, idx) => slide.facts.map((fact) => ({ slide: idx, headline: slide.headline, fact })));

    const ui = {
      meta: document.getElementById("meta"),
      headline: document.getElementById("headline"),
      facts: document.getElementById("facts"),
      hero: document.querySelector(".hero"),
      heroA: document.getElementById("heroA"),
      heroB: document.getElementById("heroB"),
      heroVideoWrap: document.getElementById("heroVideoWrap"),
      heroVideo: document.getElementById("heroVideo"),
      prevBtn: document.getElementById("prevBtn"),
      nextBtn: document.getElementById("nextBtn"),
      counter: document.getElementById("counter"),
      progress: document.getElementById("progress"),
      dots: document.getElementById("dots"),
      factFinder: document.getElementById("factFinder"),
      factInput: document.getElementById("factInput"),
      factResults: document.getElementById("factResults"),
      deck: document.getElementById("deck")
    };

    const total = slides.length;
    let current = 0;
    let activeHero = "A";
    let lock = false;
    let wheelLock = false;
    let introAudioUnlocked = false;
    const imageOk = new Map();

    function mkDots() {
      ui.dots.innerHTML = "";
      for (let i = 0; i < total; i += 1) {
        const dot = document.createElement("button");
        dot.className = "dot";
        dot.type = "button";
        dot.setAttribute("aria-label", `Go to slide ${i + 1}`);
        dot.addEventListener("click", () => goto(i, i > current ? 1 : -1));
        ui.dots.appendChild(dot);
      }
    }

    function updateDots(index) {
      [...ui.dots.children].forEach((dot, i) => {
        dot.classList.toggle("active", i === index);
      });
    }

    function preload(src) {
      return new Promise((resolve) => {
        const img = new Image();
        img.onload = () => resolve({ src, ok: true });
        img.onerror = () => resolve({ src, ok: false });
        img.src = src;
      });
    }

    async function preloadAll() {
      const status = await Promise.all(imageSources.map(preload));
      status.forEach((entry) => imageOk.set(entry.src, entry.ok));
    }

    function layers() {
      return {
        incoming: activeHero === "A" ? ui.heroB : ui.heroA,
        outgoing: activeHero === "A" ? ui.heroA : ui.heroB
      };
    }

    function setLayerBg(node, src) {
      if (imageOk.get(src)) {
        node.style.setProperty("--slide-image", `url('${src}')`);
        node.classList.remove("fallback");
      } else {
        node.style.removeProperty("--slide-image");
        node.classList.add("fallback");
      }
    }

    async function playIntroVideo() {
      try {
        if (introAudioUnlocked) {
          ui.heroVideo.defaultMuted = false;
          ui.heroVideo.muted = false;
          ui.heroVideo.removeAttribute("muted");
          ui.heroVideo.volume = 1;
        } else {
          ui.heroVideo.defaultMuted = true;
          ui.heroVideo.muted = true;
          ui.heroVideo.setAttribute("muted", "");
        }
        await ui.heroVideo.play();
      } catch (error) {
        // If autoplay with sound is blocked, fall back to muted autoplay.
        try {
          ui.heroVideo.defaultMuted = true;
          ui.heroVideo.muted = true;
          ui.heroVideo.setAttribute("muted", "");
          await ui.heroVideo.play();
        } catch (playError) {
          // Some environments still block autoplay; a user gesture will start playback.
        }
      }
    }

    async function unlockIntroAudio() {
      try {
        ui.heroVideo.defaultMuted = false;
        ui.heroVideo.muted = false;
        ui.heroVideo.removeAttribute("muted");
        ui.heroVideo.volume = 1;
        if (!ui.heroVideo.paused) {
          ui.heroVideo.pause();
        }
        await ui.heroVideo.play();
        introAudioUnlocked = true;
        return true;
      } catch (error) {
        return false;
      }
    }

    function showVideoSlide() {
      ui.deck.classList.add("intro-mode");
      if (window.gsap) {
        gsap.killTweensOf([ui.heroA, ui.heroB, ui.heroVideoWrap]);
        gsap.to([ui.heroA, ui.heroB], { autoAlpha: 0, duration: 0.38, ease: "power2.out" });
        gsap.fromTo(
          ui.heroVideoWrap,
          { autoAlpha: 0.15, scale: 1.02 },
          { autoAlpha: 1, scale: 1, duration: 0.76, ease: "power3.out" }
        );
      } else {
        ui.heroA.classList.remove("active");
        ui.heroB.classList.remove("active");
        ui.heroVideoWrap.style.opacity = "1";
      }
      playIntroVideo();
    }

    function hideVideoSlide() {
      ui.deck.classList.remove("intro-mode");
      ui.heroVideo.pause();
      ui.heroVideo.currentTime = 0;
      if (window.gsap) {
        gsap.killTweensOf(ui.heroVideoWrap);
        gsap.to(ui.heroVideoWrap, { autoAlpha: 0, duration: 0.26, ease: "power2.out" });
      } else {
        ui.heroVideoWrap.style.opacity = "0";
      }
    }

    function animatePanel() {
      if (!window.gsap) {
        ui.headline.style.opacity = "1";
        ui.headline.style.transform = "none";
        [...ui.facts.children].forEach((item) => {
          item.style.opacity = "1";
          item.style.transform = "translateX(0)";
        });
        return;
      }
      gsap.killTweensOf([ui.headline, ...ui.facts.children]);
      gsap.fromTo(ui.headline, { autoAlpha: 0, y: 24 }, { autoAlpha: 1, y: 0, duration: 0.74, ease: "power3.out" });
      gsap.fromTo(ui.facts.children, { autoAlpha: 0, x: -20 }, {
        autoAlpha: 1,
        x: 0,
        duration: 0.56,
        stagger: 0.08,
        delay: 0.12,
        ease: "power2.out"
      });
    }

    function animateHero(direction) {
      const { incoming, outgoing } = layers();
      incoming.classList.add("active");

      if (!window.gsap) {
        outgoing.classList.remove("active");
        activeHero = activeHero === "A" ? "B" : "A";
        return;
      }

      gsap.killTweensOf([incoming, outgoing]);
      gsap.fromTo(
        incoming,
        { autoAlpha: 0.24, xPercent: direction > 0 ? 2 : -2, yPercent: direction > 0 ? 0.6 : -0.6, scale: 1.02 },
        { autoAlpha: 0.93, xPercent: 0, yPercent: 0, scale: 1, duration: 0.95, ease: "power3.out" }
      );
      gsap.to(outgoing, {
        autoAlpha: 0,
        xPercent: direction > 0 ? -1.4 : 1.4,
        yPercent: direction > 0 ? -0.4 : 0.4,
        scale: 1.02,
        duration: 0.88,
        ease: "power2.out",
        onComplete: () => outgoing.classList.remove("active")
      });

      activeHero = activeHero === "A" ? "B" : "A";
    }

    function updateFinder(query) {
      const q = query.trim().toLowerCase();
      ui.factResults.innerHTML = "";

      if (!q) {
        ui.factResults.style.display = "none";
        return;
      }

      const matches = allFacts.filter((item) => item.fact.toLowerCase().includes(q));
      ui.factResults.style.display = "grid";

      if (!matches.length) {
        const item = document.createElement("li");
        item.textContent = "No match found. Try broader terms like strategy, research, data, or productivity.";
        ui.factResults.appendChild(item);
        return;
      }

      matches.slice(0, 16).forEach((match) => {
        const item = document.createElement("li");
        item.innerHTML = `<strong>Slide ${match.slide}:</strong> ${match.fact}`;
        ui.factResults.appendChild(item);
      });
    }

    function updateMeta(index) {
      ui.meta.textContent = `Slide ${index}`;
      ui.counter.textContent = `${String(index).padStart(2, "0")} / ${String(total - 1).padStart(2, "0")}`;
      ui.progress.style.width = `${((index + 1) / total) * 100}%`;
      updateDots(index);

      const onFinal = index === total - 1;
      ui.factFinder.style.display = onFinal ? "flex" : "none";
      if (!onFinal) {
        ui.factInput.value = "";
        ui.factResults.innerHTML = "";
        ui.factResults.style.display = "none";
      }

    }

    function renderFacts(slide) {
      ui.facts.innerHTML = "";
      slide.facts.forEach((fact) => {
        const li = document.createElement("li");
        li.textContent = fact;
        ui.facts.appendChild(li);
      });
    }

    function goto(index, direction = 1) {
      if (index < 0 || index >= total || lock) return;
      lock = true;
      current = index;

      const slide = slides[index];
      const videoSlide = isVideoSlide(index);

      ui.headline.textContent = slide.headline;
      renderFacts(slide);
      updateMeta(index);

      if (videoSlide) {
        showVideoSlide();
      } else {
        const src = getImageSrc(index);
        const { incoming } = layers();
        hideVideoSlide();
        setLayerBg(incoming, src);
        animateHero(direction);
      }

      animatePanel();

      window.setTimeout(() => {
        lock = false;
      }, 760);
    }

    function next() {
      if (current < total - 1) goto(current + 1, 1);
    }

    function prev() {
      if (current > 0) goto(current - 1, -1);
    }

    function bindWheel() {
      window.addEventListener("wheel", (event) => {
        if (wheelLock || lock || Math.abs(event.deltaY) < 10) return;
        wheelLock = true;
        if (event.deltaY > 0) next(); else prev();
        window.setTimeout(() => {
          wheelLock = false;
        }, 360);
      }, { passive: true });
    }

    function bindSwipe() {
      let startY = 0;
      let active = false;

      window.addEventListener("touchstart", (event) => {
        if (event.touches.length !== 1) return;
        active = true;
        startY = event.touches[0].clientY;
      }, { passive: true });

      window.addEventListener("touchend", (event) => {
        if (!active || !event.changedTouches.length) return;
        const endY = event.changedTouches[0].clientY;
        const delta = startY - endY;
        if (Math.abs(delta) > 34) {
          if (delta > 0) next(); else prev();
        }
        active = false;
      }, { passive: true });
    }

    function bindParallax() {
      ui.hero.addEventListener("pointermove", (event) => {
        if (isVideoSlide(current)) return;
        if (event.pointerType === "touch") return;
        const layer = activeHero === "A" ? ui.heroA : ui.heroB;
        const rect = ui.hero.getBoundingClientRect();
        const localX = (event.clientX - rect.left) / rect.width;
        const localY = (event.clientY - rect.top) / rect.height;
        const xRatio = (localX - 0.5) * 2;
        const yRatio = (localY - 0.5) * 2;
        const x = -xRatio * 5;
        const y = -yRatio * 3.5;
        const originX = Math.max(0, Math.min(100, localX * 100));
        const originY = Math.max(0, Math.min(100, localY * 100));

        if (window.gsap) {
          gsap.to(layer, {
            x,
            y,
            scale: 1.04,
            transformOrigin: `${originX}% ${originY}%`,
            duration: 0.34,
            ease: "power2.out"
          });
        } else {
          layer.style.transformOrigin = `${originX}% ${originY}%`;
          layer.style.transform = `translate(${x}px, ${y}px) scale(1.04)`;
        }
      });

      ui.hero.addEventListener("pointerleave", () => {
        if (isVideoSlide(current)) return;
        const layer = activeHero === "A" ? ui.heroA : ui.heroB;
        if (window.gsap) {
          gsap.to(layer, {
            x: 0,
            y: 0,
            scale: 1,
            transformOrigin: "50% 50%",
            duration: 0.42,
            ease: "power2.out"
          });
        } else {
          layer.style.transformOrigin = "50% 50%";
          layer.style.transform = "translate(0px, 0px) scale(1)";
        }
      });
    }

    function bindEvents() {
      ui.prevBtn.addEventListener("click", prev);
      ui.nextBtn.addEventListener("click", next);
      ui.heroVideoWrap.addEventListener("pointerdown", async (event) => {
        if (isVideoSlide(current)) {
          event.preventDefault();
          if (!introAudioUnlocked || ui.heroVideo.muted) {
            await unlockIntroAudio();
            return;
          }
          goto(1, 1);
        }
      });
      ui.heroVideo.addEventListener("loadeddata", () => {
        if (isVideoSlide(current) && ui.heroVideo.paused) {
          playIntroVideo();
        }
      });
      ui.heroVideo.addEventListener("canplay", () => {
        if (isVideoSlide(current) && ui.heroVideo.paused) {
          playIntroVideo();
        }
      });

      window.addEventListener("keydown", (event) => {
        if (["INPUT", "TEXTAREA"].includes(document.activeElement.tagName)) return;
        if (event.key === "ArrowRight" || event.key === "ArrowDown" || event.code === "Space") {
          event.preventDefault();
          next();
        }
        if (event.key === "ArrowLeft" || event.key === "ArrowUp") {
          event.preventDefault();
          prev();
        }
      });

      ui.factInput.addEventListener("input", (event) => updateFinder(event.target.value));

      bindWheel();
      bindSwipe();
      bindParallax();
    }

    async function init() {
      mkDots();
      await preloadAll();
      setLayerBg(ui.heroA, getImageSrc(1));
      ui.heroA.classList.add("active");
      goto(0, 1);
      bindEvents();
    }

    init();
  </script>
</body>
</html>
